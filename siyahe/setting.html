<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تنظیمات</title>
    <link rel="stylesheet" href="css/normalize.min.css">
    <link rel="stylesheet" href="css/style.css">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="siyahe" />
    <meta name="theme-color" content="#000">
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="img/fav/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/fav/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/fav/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/fav/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="img/fav/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="img/fav/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="img/fav/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="img/fav/apple-touch-icon-152x152.png" />
    <link rel="shortcut icon" type="image/png" href="img/fav/favicon-196x196.png" sizes="196x196" />
    <link rel="shortcut icon" type="image/png" href="img/fav/favicon-96x96.png" sizes="96x96" />
    <link rel="shortcut icon" type="image/png" href="img/fav/favicon-32x32.png" sizes="32x32" />
    <link rel="shortcut icon" type="image/png" href="img/fav/favicon-16x16.png" sizes="16x16" />
    <link rel="shortcut icon" type="image/png" href="img/fav/favicon-128.png" sizes="128x128" />
</head>

<body id="setting">
    <header>
        <img src="img/logo.svg" alt="logo" id="logo">
        <h1>تنظیمات</h1>
    </header>
    <main>
        <section class="setting">
            <h2>واحد پول</h2>
            <input type="radio" id="tooman" name="currency" onchange="cahngeCurrency(this.value);" value="تومان">
            <label for="tooman">تومان</label>
            <input type="radio" id="rial" name="currency" onchange="cahngeCurrency(this.value);" value="ریال">
            <label for="rial">ریال</label>
        </section>
        <section class="setting">
            <h2>تخفیف</h2>
            <input type="radio" id="riali" name="discount" onchange="cahngeDiscount(this.value);" value="riali">
            <label for="riali">ریالی</label>
            <input type="radio" id="percentage" name="discount" onchange="cahngeDiscount(this.value);" value="percentage">
            <label for="percentage">درصدی</label>
            <!-- <input type="radio" id="single" name="discountType" value="single" checked>
            <label for="single">به صورت تکی</label>
            <input type="radio" id="group" name="discountType" value="group">
            <label for="group">به صورت گروهی</label> -->
        </section>
        <!-- <section class="setting">
            <h2>فرمت خروجی فاکتور</h2>
            <input type="radio" id="a4" name="format" onchange="changePaper(this.value);" value="a4">
            <label for="a4">A4</label>
            <input type="radio" id="b5" name="format" onchange="changePaper(this.value);" value="b5">
            <label for="b5">B5</label>
        </section> -->
        <!-- <section class="setting">
            <h2>مالیات</h2>
            <input type="radio" id="withTax" name="tax" value="true" checked>
            <label for="withTax">با مالیات</label>
            <input type="radio" id="withoutTax" name="tax" value="false">
            <label for="withoutTax">بدون مالیات</label>
        </section> -->
        <section class="setting">
            <h2>لوگو</h2>
            <div class="g">
                <input type="radio" id="withLogo" name="logo" onchange="cahngeLogo(this.value);" value="true">
                <label for="withLogo">نمایش لوگو</label>
                <input type="radio" id="withoutLogo" name="logo" onchange="cahngeLogo(this.value);" value="false">
                <label for="withoutLogo">عدم نمایش لوگو</label>
            </div>
            <div class="g" id="logoUpload">
                <label for="userLogoUpload" class="g">
                    آپلود لوگو:
                    <img id="logoUploadImage" src="" alt="your image">
                </label>
                <input type='file' onchange="readURL(this);" accept="image/png, image/jpeg" id="userLogoUpload">
            </div>
        </section>
    </main>
    <script>
        function readURL(input) {
            if (input.files && input.files[0]) {
                let reader = new FileReader();
                reader.onload = function (e) {
                    document.getElementById("logoUploadImage").setAttribute('src', e.target.result);
                    localStorage.setItem('logoSrc', e.target.result);
                };
                reader.readAsDataURL(input.files[0]);
            }
        }
        function cahngeCurrency(input) {
            localStorage.setItem('currency', input);
            localStorage.setItem('currencyFlag', 1);
            cCheck();
        }
        function cCheck() {
            if (document.getElementById("tooman").value == localStorage.getItem("currency")) {
                document.getElementById("tooman").checked = true;
            } else {
                document.getElementById("rial").checked = true;
            }
        }
        function cahngeLogo(input) {
            localStorage.setItem('logo', input);
            logoCheck();
        }
        function logoCheck() {
            if (document.getElementById("withLogo").value == localStorage.getItem("logo")) {
                document.getElementById("withLogo").checked = true;
            } else {
                document.getElementById("withoutLogo").checked = true;
            }
        }
        function cahngeDiscount(input) {
            localStorage.setItem('discount', input);
            discountCheck();
        }
        function discountCheck() {
            if (document.getElementById("percentage").value == localStorage.getItem("discount")) {
                document.getElementById("percentage").checked = true;
            } else {
                document.getElementById("riali").checked = true;
            }
        }
        function changePaper(input) {
            localStorage.setItem('paper', input);
            paperCheck();
        }
        function paperCheck() {
            if (document.getElementById("a4").value == localStorage.getItem("paper")) {
                document.getElementById("a4").checked = true;
            } else {
                document.getElementById("b5").checked = true;
            }
        }
        cCheck();
        logoCheck();
        discountCheck();
        paperCheck();
        if (localStorage.getItem('logoSrc') === null) {
            document.getElementById('logoUploadImage').src = "img/placeholder.svg";
        } else {
            document.getElementById('logoUploadImage').src = localStorage.getItem('logoSrc')
        }
    </script>
</body>

</html>